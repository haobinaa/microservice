### Dubbo线程池

Dubbo 默认的底层网络通讯使用的是 Netty ，服务提供方 NettyServer 使用两级线程池，其中 EventLoopGroup(boss) 主要用来接受客户端的链接请求，并把接受的请求分发给 EventLoopGroup（worker） 来处理，boss 和 worker 线程组我们称之为 IO 线程。

如果服务提供方的逻辑能迅速完成，并且不会发起新的 IO 请求，那么直接在 IO 线程上处理会更快，因为这减少了线程池调度。但如果处理逻辑较慢，或者需要发起新的 IO 请求，比如需要查询数据库，则 IO 线程必须派发请求到新的线程池进行处理，否则 IO 线程会被阻塞，将导致不能接收其它请求。

### Dubbo的线程模型

根据请求的消息类被 IO 线程处理还是被业务线程池处理，Dubbo 提供了下面几种线程模型：

#### all（AllDispatcher 类）

 所有消息都派发到业务线程池，这些消息包括请求、响应、连接事件，断开事件，心跳等， 如图；
 
![]()